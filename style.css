:root{
  --bg-top: #eef1e7;   
  --bg-bottom: #e6e0d0;
  --glass: rgba(183,171,151,0.42);
  --glass-2: rgba(255,255,255,0.18);
  --text: #2f2a1f;     
  --muted: #6e6656;
  --accent: #86775f;    
  --accent-2: #b4a484; 
  --card-shadow: 0 12px 40px rgba(35,30,20,0.08);
  --glass-border: rgba(255,255,255,0.38);
  --blur: 12px;
}

body.dark{
  --bg-top: #1d1a14;
  --bg-bottom: #23211b;
  --glass: rgba(20,18,15,0.48);
  --glass-2: rgba(255,255,255,0.03);
  --text: #efe9df;
  --muted: #bdb3a6;
  --accent: #a0896f;
  --accent-2: #8c7a63;
  --card-shadow: 0 14px 50px rgba(0,0,0,0.7);
  --glass-border: rgba(255,255,255,0.06);
  --blur: 8px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  margin:0;color:var(--text);
  background: radial-gradient(1200px 500px at 10% 10%, rgba(180,164,132,0.12), transparent 20%),
              linear-gradient(180deg, var(--bg-top) 0%, var(--bg-bottom) 100%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:28px;
}

.app{max-width:1200px;margin:0 auto;}

.topbar{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:18px}
.brand{display:flex;align-items:center;gap:12px}
.logo-dot{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#cfc29b,#9b8f73);box-shadow:0 8px 24px rgba(130,110,84,0.12)}
.brand-text{font-weight:700;font-size:1.05rem;letter-spacing:0.2px}

.controls{display:flex;align-items:center;gap:12px}
.search-area{display:flex;gap:10px;align-items:center}
.search{position:relative;width:520px;max-width:52vw;z-index:10000}
.search input{
  width:100%; padding:14px 16px;border-radius:14px;border:1px solid var(--glass-border);
  background: linear-gradient(180deg, rgba(255,255,255,0.6), var(--glass));
  box-shadow: var(--card-shadow); outline:none; font-size:0.95rem; color:var(--text);
  transition:transform .18s ease, box-shadow .18s ease;
}
.search input:focus{transform:translateY(-2px); box-shadow:0 18px 48px rgba(50,40,30,0.12)}

.filter-input{
  min-width:160px;padding:12px 14px;border-radius:12px;border:1px solid var(--glass-border);
  background:transparent;color:var(--text);box-shadow:var(--card-shadow);outline:none;font-size:0.9rem;
}

.suggestions{
  position:absolute; left:0; right:0; top:calc(100% + 10px); border-radius:12px; overflow:hidden;
  background:rgba(247,243,236,0.98); box-shadow: 0 18px 50px rgba(30,24,18,0.12);
  display:none; transform-origin:top center; animation:pop .14s ease;
  z-index:99999;
}
.suggestions.active{display:block}
.suggestions button{
  display:block;width:100%;text-align:left;padding:10px 14px;border:0;background:transparent;cursor:pointer;color:var(--text);
  font-weight:600;
}
.suggestions button:hover{background:linear-gradient(90deg, rgba(200,180,150,0.06), transparent)}

.action-row{display:flex;align-items:center;gap:8px}
.btn{padding:8px 12px;border-radius:10px;border:1px solid transparent;background:var(--glass);box-shadow:var(--card-shadow);cursor:pointer;color:var(--text)}
.btn.icon{width:44px;height:44px;display:inline-grid;place-items:center;font-size:1.05rem}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:0;padding:10px 14px}
.segmented{display:flex;background:var(--glass-2);border-radius:10px;overflow:hidden;border:1px solid var(--glass-border)}
.seg-btn{padding:8px 12px;border:0;background:transparent;cursor:pointer;color:var(--muted);font-weight:700}
.seg-btn.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}

.main-grid{display:grid;grid-template-columns: 1fr 340px; gap:18px;}
.col-left{display:flex;flex-direction:column;gap:16px}
.col-right{display:flex;flex-direction:column;gap:16px}

.card{border-radius:16px;padding:18px;background:var(--glass);backdrop-filter: blur(var(--blur));border:1px solid var(--glass-border);box-shadow:var(--card-shadow)}
.current-top{display:flex;justify-content:space-between;align-items:center;gap:12px}
.current-main{display:flex;align-items:center;gap:14px}
.current-main img{width:110px;height:110px;object-fit:contain;filter:sepia(.12) saturate(.9) hue-rotate(-10deg);transition:transform .3s ease}
.current-main img:hover{transform:translateY(-6px) scale(1.03)}
.temp-block{display:flex;flex-direction:column;align-items:flex-end}
.temp{font-size:2.8rem;font-weight:800}
.desc{font-weight:600;color:var(--muted);text-transform:capitalize}

.current-meta{display:flex;gap:14px;margin-top:14px}
.meta-item{flex:1;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.45));padding:10px;border-radius:12px;text-align:center;border:1px solid var(--glass-border)}
.meta-title{font-size:0.85rem;color:var(--muted)}
.meta-value{font-weight:700;margin-top:6px}

.current-actions{display:flex;align-items:center;justify-content:space-between;margin-top:14px}
.loading{padding:8px 12px;border-radius:10px;background:rgba(0,0,0,0.04);color:var(--muted)}
.small{padding:6px 8px;font-size:0.9rem}
.hidden{display:none}

.forecast-grid{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
.forecast-item{flex:1 1 140px;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.45));padding:14px;border-radius:12px;text-align:center;border:1px solid var(--glass-border)}
.forecast-item img{width:56px;height:56px}
.forecast-item .date{font-weight:700;margin-bottom:6px}
.forecast-item .temp-range{margin-top:8px;color:var(--muted)}

.favorites-list{list-style:none;padding:0;margin:0}
.favorites-list li{display:flex;justify-content:space-between;gap:8px;padding:8px 6px;border-radius:8px}
.favorites-list li button{padding:6px 8px;border-radius:8px;border:0;background:transparent;cursor:pointer}
.favorites-list li:hover{background:rgba(0,0,0,0.03)}

.status-row{display:flex;flex-direction:column;gap:8px;margin-bottom:10px}
.dot{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:8px;vertical-align:middle}
.dot.online{background:linear-gradient(90deg,#6fe7a6,#2ec47b)}
#autoStatus{background:#ffd36f;border-radius:50%;width:12px;height:12px;display:inline-block}

.log{max-height:140px;overflow:auto;padding:8px;border-radius:8px;background:rgba(255,255,255,0.03);font-size:0.9rem}

.footer{text-align:center;color:var(--muted);margin-top:18px;padding-bottom:18px;font-size:0.9rem}

@keyframes pop { from { transform: scale(.98) translateY(-4px); opacity:0 } to { transform:scale(1) translateY(0); opacity:1 } }

@media (max-width:980px){
  .main-grid{grid-template-columns:1fr;}
  .search{width:100%}
  .controls{flex-direction:column;align-items:stretch;gap:10px}
  .action-row{justify-content:space-between}
  .current-main img{width:86px;height:86px}
  .temp{font-size:2.1rem}
  .forecast-item{flex-basis:48%}
}
@media (max-width:520px){
  body{padding:14px}
  .forecast-item{flex-basis:100%}
  .search-area{flex-direction:column;align-items:stretch}
  .filter-input{width:100%}
}